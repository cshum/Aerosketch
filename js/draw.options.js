define(["underscore","knockout","draw","draw.momento"],function(e,n,o){function c(){var n=o.selection();if(1==n.length){var c=n[0];e(t).each(function(e,n){n in c&&"none"!=c[n]()&&e(c[n]())})}}var i=!1,t={fill:n.observable("red"),stroke:n.observable("black"),strokeWidth:n.observable(5)};e(t).each(function(n,c){n.subscribe(function(n){e(o.selection()).each(function(e){i=!0,c in e&&e[c](n)})})}),o.debounce.subscribe(function(n){!n&&i&&(o.save.apply(null,o.selection()),i=!1),n||e.defer(c)}),o.selection.subscribe(c),e(o).extend({options:t})});